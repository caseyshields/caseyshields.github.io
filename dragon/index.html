<!doctype html>
<html>
<head>
  <title>Western Dragon</title>
  <meta http-equiv="Content-type" content="text/html; charset=utf-8" />
  <!--meta name="viewport" content="width=device-width, initial-scale=1" /-->
  <link href="../site.css" rel="stylesheet" />
</head>
<body>
  <div id="list">
      <diagram v-bind:name="'dragon'" v-bind:stages="stages"></diagram>
      <!-- <diagram :name="'dragon'" :stages="[
          {stage:1, steps:5, summary:'test'}
      ]"></diagram>-->
  </div>
  <script src="https://unpkg.com/vue"></script>
  <script src="../list.js"></script>
  <script type="text/javascript">
    let dragon_vue = new Vue({
      el: "#list",
      data: {
        title: "Vue Component Examples",
        query: '',
        stages: []
      },
      created: function() {
        this.stages = [ { //[5, 5, 10, 11, 8, 8, 10, 7, 3, 6, 4]
          stage: 1, steps: 5,
          summary: "Construct the landmark sequences",
        },{
          stage: 2, steps: 5,
          summary: "Fold a birdbase with a grafted diagonal strip",
          captions: [
            [4,"Flip two of the flaps over to reveal the center graft"]]
        },{
          stage:3, steps: 10,
          summary: "Pre-crease 'Y' bases in graft.",
          captions: [ [9,"Repeat on the other 3 flaps."] ]
        },{
          stage: 4, steps: 11,
          summary: "Fold the 'Y' bases in the graft",
          captions: [
            [1,"Flip back the two flaps so the bird base is on top."],
            [7,"Perform a double inside reverse fold, using the existing creases. Push the two flaps on the left between the three flaps on the right."],
            [8, "Crimp using existing creases."],
            [10, "Repeat on the opposite side"]]
        },{
          stage: 5, steps: 8,
          summary: "Stretch the center of the base to form body",
          captions: [
            [2,"Fold the two flaps down."],
            [3,"Undo"],
            [4,"Repeat on opposite side, so the center flap has been folded in both directions."],
            [5,"Stretch and flatten the center flap."]]
        },{
          stage: 6, steps: 8,
          summary: "Fold rear legs and tail",
          captions: [
            [2,"Pull the center flap through the two legs."],
            [3,"Repeat on rear."]]
        },{
          stage: 7, steps: 10,
          summary: "Fold fore legs and neck",
          captions: [
            [6,"Unfold."],
            [7,"At this point we have made all the precreases for the two Y-bases which form the forelegs, neck and horns."],
            [8,"Using the existing precreases, fold the two Y-bases."],
            [9,"fold up the two corners, fold the center flap to the side."]]
        },{
          stage: 8, steps: 7,
          summary: "Fold the wings' arms and shoulders",
          captions: [
            [1,"Precrease for the wing's shoulder"],
            [5,"Optionally, you can crimp each flap of the wing's shoulder for a cleaner look and a locking effect."],
            [6,"In the two center flaps, fold a fish base."],
            [7,"Move the legs out of the way."]
          ]
        },{// todo, move this to stage 6?
          stage: 9, steps: 3,
          summary: "Shape tail",
          captions: [
            [3,"Fold legs back."]
          ]
        },{
          stage: 10, steps: 6,
          summary: "Fold head and horns",
          captions: [
            [1,"Move the center flap out of the way."],
            [2,"Repeat the following folds on the back side of the flap as well."]
          ]
        },{
          stage: 11, steps: 5,
          summary: "Shape hips and shoulders",
          captions: [
            [4,"Spread out the limbs to a natural pose and fold down wings."],
            [5,"This is just a possible finishing sequence; expiriment with poses and styles."]
          ]
        } ];
      }
    });
  </script>

  <!-- <script>
  function addCaptions( stages ) {
    for( var n=0; n<stages.length; n++ ) {
      let stage = stages[n];
      stage.content = [];
      for( var m=1; m<stage.steps; m++ ) {
        if(stage.captions)
          stage.captions.forEach( function (item, index) {
            stage.content[ item[0] ] = item[1];
          } );
      }
    }
  }
  var c = addCaptions( [ {
    stage: 1, steps: 5,
    summary: "Construct the landmark sequences",
    captions: [ [1, "first caption"] ]
  },{
    stage: 2, steps: 5,
    summary: "Fold a birdbase with a grafted diagonal strip",
    captions: [ [1,"first caption"] ]
  },{
    stage:3, steps: 10,
    summary: "Pre-crease 'Y' bases in graft."
  },{
    stage: 4, steps: 11,
    summary: "Fold the 'Y' bases in the graft"
  },{
    stage: 5, steps: 8,
    summary: "Stretch the center of the base to form body"
  },{
    stage: 6, steps: 8,
    summary: "Fold rear legs and tail"
  },{
    stage: 7, steps: 10,
    summary: "Fold fore legs and neck"
  },{
    stage: 8, steps: 7,
    summary: "Fold the wings' arms and shoulders"
  },{// todo, move this to stage 6?
    stage: 9, steps: 3,
    summary: "Shape tail"
  },{
    stage: 10, steps: 6,
    summary: "Fold head and horns"
  },{
    stage: 11, steps: 5,
    summary: "Shape hips and shoulders"
  }] );
  console.log(c);
  </script> -->
</body>
</html>
